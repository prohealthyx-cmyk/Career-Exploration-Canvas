<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Career Exploration Canvas</title>
  <style>
    :root{--bg:#f7f7fb;--card:#ffffff;--text:#111827;--muted:#6b7280;--brand:#2563eb;--line:#e5e7eb;--accent:#f1f5f9}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
    .wrap{min-height:100vh;max-width:1100px;margin:0 auto;padding:24px}
    header h1{margin:0 0 6px;font-size:24px}
    header p{margin:0;color:var(--muted)}
    .progress{height:8px;background:var(--line);border-radius:999px;overflow:hidden;margin:12px 0}
    .progress > div{height:100%;background:var(--brand);width:0%}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    .tab{padding:8px 12px;border-radius:8px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .tab.active{background:var(--brand);color:#fff;border-color:var(--brand)}
    .toolbar{display:flex;gap:8px;margin:6px 0 0}
    button{appearance:none;border:1px solid var(--line);background:#fff;border-radius:8px;padding:8px 12px;cursor:pointer}
    button.primary{background:var(--brand);color:#fff;border-color:var(--brand)}
    button.danger{background:#ef4444;color:#fff;border-color:#ef4444}
    .card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px;margin:14px 0}
    .grid{display:grid;gap:12px}
    .row{display:flex;gap:8px}
    .row>*{flex:1}
    input,textarea{width:100%;padding:10px;border:1px solid var(--line);border-radius:8px;background:#fff}
    textarea{min-height:90px}
    .hint{color:var(--muted);font-size:14px}
  </style>
  <!-- React + ReactDOM + Babel (so JSX works without a build) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div class="wrap" id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    const STORAGE = "cec_store_static_v1";
    const emptyStore = () => ({ step:1, answers:{} });

    function Question({id,label,answers,setAnswers}) {
      return (
        <div className="card">
          <div style={{fontWeight:600,marginBottom:6}}>{label}</div>
          <textarea
            value={answers[id]||""}
            onChange={e=>setAnswers(a=>({...a,[id]:e.target.value}))}
            placeholder="Write your response here..."
          />
        </div>
      );
    }

    function App(){
      const [store,setStore] = useState(()=>{
        try{ const raw = localStorage.getItem(STORAGE); return raw? JSON.parse(raw) : emptyStore(); }
        catch { return emptyStore(); }
      });
      const setStep = (s)=> setStore(st=>({...st, step:s}));
      const setAnswers = (updater)=> setStore(st=>({...st, answers: typeof updater==="function"? updater(st.answers) : updater}));

      useEffect(()=>{ try{ localStorage.setItem(STORAGE, JSON.stringify(store)); }catch{} }, [store]);

      const progress = useMemo(()=> (store.step/4)*100, [store.step]);

      const resetAll = ()=>{
        const fresh = emptyStore();
        try{ localStorage.setItem(STORAGE, JSON.stringify(fresh)); }catch{}
        setStore(fresh);
      };

      return (
        <>
          <header>
            <h1>Career Exploration Canvas</h1>
            <p className="hint">Guided reflection to expand possibilities, gain clarity, and choose directions.</p>
            <div className="progress"><div style={{width: progress + "%"}}></div></div>

            <div className="tabs">
              {["üåç Step 1","üéØ Step 2","üß≠ Step 3","üìù Report"].map((label,i)=>{
                const s = i+1; const active = store.step===s;
                return <div key={s} className={"tab "+(active?"active":"")} onClick={()=>setStep(s)}>{label}</div>;
              })}
            </div>

            <div className="toolbar">
              <button className="danger" onClick={resetAll}>Reset</button>
            </div>
          </header>

          {store.step===1 && (
            <section className="card">
              <h3>üåç Step 1 ‚Äì Expand the Map</h3>
              <div className="grid">
                {[
                  'What activities make you lose track of time?',
                  'If you had to teach something, what would it be?',
                  'What work environment stimulates you?',
                  'If money wasn‚Äôt an issue, what would you do for a year?',
                  'What problems are you drawn to solve?',
                ].map((q,i)=>(
                  <Question key={i} id={`s1-${i+1}`} label={q} answers={store.answers} setAnswers={setAnswers}/>
                ))}
                <div style={{display:"flex",justifyContent:"flex-end"}}>
                  <button className="primary" onClick={()=>setStep(2)}>Next ‚Üí</button>
                </div>
              </div>
            </section>
          )}

          {store.step===2 && (
            <section className="card">
              <h3>üéØ Step 2 ‚Äì Define Your Criteria</h3>
              <p className="hint">Add the values/constraints that matter (e.g., Impact, Growth, Autonomy, Creativity, Balance) and note why they matter.</p>
              <div className="grid">
                <Question id="s2-criteria" label="What are your top 5 criteria?" answers={store.answers} setAnswers={setAnswers}/>
                <Question id="s2-learn" label="What do you want to learn in 2‚Äì3 years?" answers={store.answers} setAnswers={setAnswers}/>
                <Question id="s2-impact" label="What kind of impact do you want to have?" answers={store.answers} setAnswers={setAnswers}/>
                <div style={{display:"flex",justifyContent:"space-between"}}>
                  <button onClick={()=>setStep(1)}>‚Üê Back</button>
                  <button className="primary" onClick={()=>setStep(3)}>Next ‚Üí</button>
                </div>
              </div>
            </section>
          )}

          {store.step===3 && (
            <section className="card">
              <h3>üß≠ Step 3 ‚Äì Converge and Reflect</h3>
              <div className="grid">
                <Question id="s3-top3" label="Which three options make you feel most alive?" answers={store.answers} setAnswers={setAnswers}/>
                <Question id="s3-competence" label="Which combine curiosity and competence?" answers={store.answers} setAnswers={setAnswers}/>
                <Question id="s3-experiment" label="One small experiment you could run next month?" answers={store.answers} setAnswers={setAnswers}/>
                <Question id="s3-who" label="Who could you talk to (role models, peers, contacts)?" answers={store.answers} setAnswers={setAnswers}/>
                <div style={{display:"flex",justifyContent:"space-between"}}>
                  <button onClick={()=>setStep(2)}>‚Üê Back</button>
                  <button className="primary" onClick={()=>setStep(4)}>Finish ‚Üí</button>
                </div>
              </div>
            </section>
          )}

          {store.step===4 && (
            <section className="card">
              <h3>üìù Report</h3>
              <p className="hint">Your reflections are saved locally in your browser. Copy anything you want to keep elsewhere.</p>
              <pre style={{whiteSpace:"pre-wrap",background:"#f8fafc",padding:12,borderRadius:10,border:"1px solid #e5e7eb"}}>
{JSON.stringify(store.answers,null,2)}
              </pre>
              <div style={{display:"flex",justifyContent:"space-between"}}>
                <button onClick={()=>setStep(3)}>‚Üê Back</button>
                <button className="danger" onClick={resetAll}>Start Over</button>
              </div>
            </section>
          )}
        </>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App/>);
  </script>
</body>
</html>
